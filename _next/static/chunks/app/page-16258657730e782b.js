(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2743:(e,t,a)=>{Promise.resolve().then(a.bind(a,5969)),Promise.resolve().then(a.bind(a,8686)),Promise.resolve().then(a.bind(a,7193))},4895:(e,t,a)=>{"use strict";a.d(t,{CombatantProvider:()=>d,Q:()=>i});var r=a(5155),n=a(2115);let s=(0,n.createContext)(null);function d(e){let{children:t}=e,a=function(){let[e,t]=(0,n.useState)([]);return{combatants:e,setCombatants:t,addCombatant:e=>t(t=>[...t,e]),removeCombatant:e=>t(t=>t.filter(t=>t.id!==e)),damage:function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t(t=>t.map(t=>t.id===e?{...t,currentHP:Math.max(0,t.currentHP-a)}:t))},heal:function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t(t=>t.map(t=>t.id===e?{...t,currentHP:Math.min(t.maxHP,t.currentHP+a)}:t))}}}();return(0,r.jsx)(s.Provider,{value:a,children:t})}function i(){let e=(0,n.useContext)(s);if(!e)throw Error("useCombatants must be used within a CombatantProvider");return e}},5969:(e,t,a)=>{"use strict";a.d(t,{AddCombatantForm:()=>i});var r=a(5155),n=a(2115),s=a(4895),d=a(1368);function i(){let{addCombatant:e}=(0,s.Q)(),[t,a]=(0,n.useState)(""),[i,l]=(0,n.useState)(0),[o,u]=(0,n.useState)(10);return(0,r.jsx)("form",{onSubmit:r=>{r.preventDefault(),e({id:(0,d.A)(),name:t,initiative:i,maxHP:o,currentHP:o}),a(""),l(0),u(10)},className:"space-y-4 bg-white p-4 rounded shadow",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"text",placeholder:"Name",value:t,onChange:e=>a(e.target.value),className:"flex-1 border p-2 rounded",required:!0}),(0,r.jsx)("input",{type:"number",placeholder:"Initiative",value:i,onChange:e=>l(parseInt(e.target.value)),className:"w-24 border p-2 rounded",required:!0}),(0,r.jsx)("input",{type:"number",placeholder:"Max HP",value:o,onChange:e=>u(parseInt(e.target.value)),className:"w-24 border p-2 rounded",required:!0}),(0,r.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Add"})]})})}},7193:(e,t,a)=>{"use strict";a.d(t,{ThemeToggle:()=>s});var r=a(5155),n=a(2115);function s(){let[e,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{document.documentElement.classList.toggle("dark",e)},[e]),(0,r.jsxs)("button",{className:"p-2 border rounded bg-gray-200 dark:bg-gray-700 dark:text-white",onClick:()=>t(!e),children:["Toggle ",e?"Light":"Dark"," Mode"]})}},8686:(e,t,a)=>{"use strict";a.d(t,{CombatantList:()=>u});var r=a(5155),n=a(4895),s=a(5143),d=a(402),i=a(8266),l=a(2115);function o(e){let{combatant:t,damage:a,heal:n,removeCombatant:s}=e,{attributes:o,listeners:u,setNodeRef:c,transform:m,transition:h}=(0,d.gl)({id:t.name}),[p,x]=(0,l.useState)(""),g=()=>{let e=parseInt(p,10);!isNaN(e)&&(e<0?a(t.id,Math.abs(e)):e>0&&n(t.id,e)),x("")},b={transform:i.Ks.Transform.toString(m),transition:h};return(0,r.jsxs)("div",{ref:c,style:b,className:"bg-white dark:bg-gray-800 p-4 rounded shadow flex items-center justify-between",children:[(0,r.jsx)("div",{...o,...u,className:"cursor-grab",children:"⠿ "}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:t.name}),(0,r.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:["Initiative: ",t.initiative]}),(0,r.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:["HP: ",t.currentHP," / ",t.maxHP]})]}),(0,r.jsx)("div",{className:"flex gap-2",children:(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),s(t.id)},className:"bg-gray-300 dark:bg-gray-700 dark:text-white px-2 py-1 rounded",children:"✕"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"number",value:p,onChange:e=>x(e.target.value),onKeyDown:e=>"Enter"===e.key&&g(),className:"w-20 px-2 py-1 border rounded",placeholder:"+/- HP"}),(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),g()},className:"bg-blue-500 text-white px-2 py-1 rounded",children:"Apply"})]})]})}function u(){let{combatants:e,setCombatants:t,damage:a,heal:i,removeCombatant:l}=(0,n.Q)(),u=(0,s.FR)((0,s.MS)(s.AN),(0,s.MS)(s.uN));return(0,r.jsx)(s.Mp,{sensors:u,collisionDetection:s.fp,onDragEnd:a=>{let{active:r,over:n}=a;if(n&&r.id!==n.id){let a=e.findIndex(e=>e.name===r.id),s=e.findIndex(e=>e.name===n.id);t((0,d.be)(e,a,s))}},children:(0,r.jsx)(d.gB,{items:e.map(e=>e.name),strategy:d._G,children:(0,r.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,r.jsx)(o,{combatant:e,damage:a,heal:i,removeCombatant:l},e.id))})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[607,441,684,358],()=>t(2743)),_N_E=e.O()}]);