(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2392:(e,t,r)=>{Promise.resolve().then(r.bind(r,5969)),Promise.resolve().then(r.bind(r,8686)),Promise.resolve().then(r.bind(r,3866)),Promise.resolve().then(r.bind(r,7193))},3866:(e,t,r)=>{"use strict";r.d(t,{Turnorder:()=>s});var a=r(5155),n=r(4895);function s(){let{nextTurn:e}=(0,n.Q)();return(0,a.jsx)("div",{className:"flex justify-end mb-4",children:(0,a.jsx)("button",{onClick:e,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Next Turn"})})}},4895:(e,t,r)=>{"use strict";r.d(t,{CombatantProvider:()=>i,Q:()=>l});var a=r(5155),n=r(2115);let s=(0,n.createContext)(null);function i(e){let{children:t}=e,r=function(){let[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)(0),s=(0,n.useCallback)(e=>t(t=>[...t,e]),[]),i=(0,n.useCallback)(e=>t(t=>t.filter(t=>t.id!==e)),[]),l=(0,n.useCallback)(function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t(t=>t.map(t=>t.id===e?{...t,currentHP:Math.max(0,t.currentHP-r)}:t))},[]),d=(0,n.useCallback)(function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t(t=>t.map(t=>t.id===e?{...t,currentHP:Math.min(t.maxHP,t.currentHP+r)}:t))},[]);return{combatants:e,setCombatants:t,addCombatant:s,removeCombatant:i,damage:l,heal:d,currentTurnIndex:r,nextTurn:()=>a(t=>{let r=e.length;return 0===r?0:(t+1)%r}),previousTurn:()=>a(t=>0===e.length?0:(t-1+e.length)%e.length)}}();return(0,a.jsx)(s.Provider,{value:r,children:t})}function l(){let e=(0,n.useContext)(s);if(!e)throw Error("useCombatants must be used within a CombatantProvider");return e}},5969:(e,t,r)=>{"use strict";r.d(t,{AddCombatantForm:()=>l});var a=r(5155),n=r(2115),s=r(4895),i=r(1368);function l(){let{addCombatant:e}=(0,s.Q)(),[t,r]=(0,n.useState)(""),[l,d]=(0,n.useState)(0),[u,o]=(0,n.useState)(10);return(0,a.jsx)("form",{onSubmit:a=>{a.preventDefault(),e({id:(0,i.A)(),name:t,initiative:l,maxHP:u,currentHP:u}),r(""),d(0),o(10)},className:"space-y-4 bg-white p-4 rounded shadow",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",placeholder:"Name",value:t,onChange:e=>r(e.target.value),className:"flex-1 border p-2 rounded",required:!0}),(0,a.jsx)("input",{type:"number",placeholder:"Initiative",value:l,onChange:e=>d(parseInt(e.target.value)),className:"w-24 border p-2 rounded",required:!0}),(0,a.jsx)("input",{type:"number",placeholder:"Max HP",value:u,onChange:e=>o(parseInt(e.target.value)),className:"w-24 border p-2 rounded",required:!0}),(0,a.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Add"})]})})}},7193:(e,t,r)=>{"use strict";r.d(t,{ThemeToggle:()=>s});var a=r(5155),n=r(2115);function s(){let[e,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{document.documentElement.classList.toggle("dark",e)},[e]),(0,a.jsxs)("button",{className:"p-2 border rounded bg-gray-200 dark:bg-gray-700 dark:text-white",onClick:()=>t(!e),children:["Toggle ",e?"Light":"Dark"," Mode"]})}},8686:(e,t,r)=>{"use strict";r.d(t,{CombatantList:()=>c});var a=r(5155),n=r(4895),s=r(5143),i=r(402),l=r(8266),d=r(2115),u=r(9911);let o=(0,d.memo)(function(e){let{combatant:t,damage:r,heal:n,removeCombatant:s,isActive:o}=e,{attributes:c,listeners:m,setNodeRef:x,transform:h,transition:g}=(0,i.gl)({id:t.name}),[b,p]=(0,d.useState)(""),v=()=>{let e=parseInt(b,10);!isNaN(e)&&(e<0?r(t.id,Math.abs(e)):e>0&&n(t.id,e)),p("")},f={transform:l.Ks.Transform.toString(h),transition:g};return(0,a.jsxs)("div",{ref:x,style:f,className:"w-full p-4 rounded shadow flex items-center justify-between transition-all\n            ".concat(o?"bg-blue-100 dark:bg-blue-900":"bg-white dark:bg-gray-800"),children:[(0,a.jsx)("div",{...c,...m,className:"cursor-grab flex",children:"â ¿"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:t.name}),(0,a.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:["Initiative: ",t.initiative]}),(0,a.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:["HP: ",t.currentHP," / ",t.maxHP]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"number",value:b,onChange:e=>p(e.target.value),onKeyDown:e=>"Enter"===e.key&&v(),className:"w-20 px-2 py-1 border rounded",placeholder:"+/- HP"}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),v()},className:"bg-blue-500 text-white px-2 py-1 rounded",children:"Apply"})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),s(t.id)},className:"bg-gray-300 dark:bg-gray-700 dark:text-white px-2 py-1 rounded",children:(0,a.jsx)(u.RCe,{className:"w-4 h-4"})})})]})});function c(){let{combatants:e,setCombatants:t,damage:r,heal:l,removeCombatant:d,currentTurnIndex:u}=(0,n.Q)(),c=(0,s.FR)((0,s.MS)(s.AN),(0,s.MS)(s.uN)),m=[...e].sort((e,t)=>t.initiative-e.initiative);return(0,a.jsx)(s.Mp,{sensors:c,collisionDetection:s.fp,onDragEnd:r=>{let{active:a,over:n}=r;if(n&&a.id!==n.id){let r=e.findIndex(e=>e.name===a.id),s=e.findIndex(e=>e.name===n.id);t((0,i.be)(e,r,s))}},children:(0,a.jsx)(i.gB,{items:m.map(e=>e.name),strategy:i._G,children:(0,a.jsx)("div",{className:"space-y-4",children:m.map((e,t)=>(0,a.jsx)(o,{combatant:e,damage:r,heal:l,removeCombatant:d,isActive:t===u},e.id))})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[711,698,441,684,358],()=>t(2392)),_N_E=e.O()}]);